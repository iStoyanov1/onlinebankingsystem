<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>
<body>
<div class="container-fluid">
    <main>
        <div>
            <th:block th:include="~{/fragments/nav-bar}"></th:block>
        </div>
        <div class="container">
            <div class="row justify-content-md-center">
                <nav class="navbar navbar-expand-md navbar-light bg-light"
                     style="border-bottom-left-radius: 30px; border:solid 2px; border-color: #e3f2fd;border-bottom-right-radius: 30px">
                    <a class="navbar-brand" href="#">Профил</a>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav nav-fill w-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="#">Сметки <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="#">Карти</a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="#">Транзакции <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item dropdown active">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Редактиране на профил
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="#">Потребителско име</a>
                                    <a class="dropdown-item" href="#">Парола</a>
                                    <a class="dropdown-item" href="#">Имейл</a>
                                    <a class="dropdown-item" href="#">Телефон</a>
                                </div>
                        </ul>
                        <form action="/logout?login" method="post">
                            <button class="btn btn-danger logout-button" style="border-radius: 50px">Изход</button>
                        </form>
                    </div>
                </nav>
            </div>
        </div>
        <div class="container">
            <div class="row mt-4">
                <div class="col-sm-4">
                    <table class="table table-bordered mt-4 table-responsive-lg">
                        <tbody>
                        <tr>
                            <td style="border-color: dodgerblue">
                                <img src="https://www.searchpng.com/wp-content/uploads/2019/02/Profile-PNG-Icon.png"
                                     height="25"
                                     width="25"><span
                                    th:text="'   Потребител: ' + ${user.getUser().getFullName()}"></span>
                                <hr>
                                <img src="https://icons.iconarchive.com/icons/dtafalonso/android-l/256/Gmail-icon.png"
                                     height="25"
                                     width="25">
                                <span class="text-left"
                                      th:text="'   Имейл: ' + ${user.getUser().getEmail()}"></span>
                            </td>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                    <table class="table table-bordered">
                        <tbody>
                        <tr>
                            <th scope="row" style="text-align: left; border-color: dodgerblue">Сметка:</th>
                            <td style="border-color: dodgerblue"><h6 class="text-right"
                                                                     th:text="${user.getAccountNumber()}"></h6></td>
                        </tr>
                        <tr>
                            <th scope="row" style="text-align: left; border-color: dodgerblue">Наличност:</th>
                            <td style="border-color: dodgerblue"><h6 class="text-right"
                                                                     th:text="${user.getBalance()} + ' ' + ${user.getCurrency().name()}"></h6>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col">
                    <input type="hidden">
                </div>
                <div class="col-sm-6">
                    <div class="container justify-content-center">
                        <h6 class="text-center mt-4">
                            <img src="https://www.pngrepo.com/png/181917/180/sort-arrows.png"
                                 height="25"
                                 width="25">    Последни движения по сметка:</h6>
                        <div class="row mt-4 justify-content-center">
                            <div class="col-sm-12 mr-4">
                                <h6 class="text-center">Приходи</h6>
                                <table class="table mt-4 table-bordered">
                                    <tbody>
                                    <thead>
                                    <tr>
                                        <th  style="border-color: dodgerblue" scope="col">Дата</th>
                                        <th  style="border-color: dodgerblue" scope="col">Подател</th>
                                        <th  style="border-color: dodgerblue" scope="col">Сума</th>
                                        <th  style="border-color: dodgerblue" scope="col">Получател - Сметка</th>
                                        <th  style="border-color: dodgerblue" scope="col">Подател - Сметка</th>
                                    </tr>
                                    </thead>
                                    <th:block th:each="income : ${userIncomes}">
                                        <tr>
                                            <td style="border-color: dodgerblue" th:text="${income.getDate()}"></td>
                                            <td style="border-color: dodgerblue" th:text="${income.getDetails()}"></td>
                                            <td style="border-color: dodgerblue; color: green"
                                                th:text="${income.getQuantity()}"></td>
                                            <td style="border-color: dodgerblue"
                                                th:text="${income.getRecipient().getAccountNumber()}"></td>
                                            <td style="border-color: dodgerblue" th:text="${income.getSender()}"></td>
                                        </tr>
                                    </th:block>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-sm-12 mr-4">
                                <h6 class="text-center">Разходи</h6>
                                <table class="table mt-4 table-bordered">
                                    <thead>
                                    <tr>
                                        <th  style="border-color: dodgerblue" scope="col">Дата</th>
                                        <th  style="border-color: dodgerblue" scope="col">Подател</th>
                                        <th  style="border-color: dodgerblue" scope="col">Сума</th>
                                        <th  style="border-color: dodgerblue" scope="col">Получател - Сметка</th>
                                        <th  style="border-color: dodgerblue" scope="col">Подател - Сметка</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <th:block th:each="cost : ${userCosts}">
                                        <tr>
                                            <td style="border-color: dodgerblue" th:text="${cost.getDate()}"></td>
                                            <td style="border-color: dodgerblue" th:text="${cost.getDetails()}"></td>
                                            <td style="border-color: dodgerblue; color: red"
                                                th:text="${cost.getQuantity()}"></td>
                                            <td style="border-color: dodgerblue" th:text="${cost.getRecipient()}"></td>
                                            <td style="border-color: dodgerblue"
                                                th:text="${cost.getSender().getAccountNumber()}"></td>
                                        </tr>
                                    </th:block>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
</body>
</html>